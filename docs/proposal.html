<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="431 Staff">
<meta name="dcterms.date" content="2023-08-17">

<title>431 Project A - Project A Proposal</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">431 Project A</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./data.html" rel="" target="">
 <span class="menu-text">Data</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./proposal.html" rel="" target="" aria-current="page">
 <span class="menu-text">Proposal</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./analyses.html" rel="" target="">
 <span class="menu-text">Analyses</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./portfolio.html" rel="" target="">
 <span class="menu-text">Portfolio</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./examples.html" rel="" target="">
 <span class="menu-text">Examples</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://thomaselove.github.io/431-2023/contact.html" rel="" target="">
 <span class="menu-text">Contact Us</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://thomaselove.github.io/431-2023" rel="" target="">
 <span class="menu-text">431 Homepage</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#please-ignore-these-instructions-until-the-first-class-meeting-while-we-continue-to-build-them." id="toc-please-ignore-these-instructions-until-the-first-class-meeting-while-we-continue-to-build-them." class="nav-link active" data-scroll-target="#please-ignore-these-instructions-until-the-first-class-meeting-while-we-continue-to-build-them.">Please ignore these instructions until the first class meeting, while we continue to build them.</a>
  <ul class="collapse">
  <li><a href="#proposal-requirements" id="toc-proposal-requirements" class="nav-link" data-scroll-target="#proposal-requirements">Proposal Requirements</a></li>
  <li><a href="#project-proposal-example-using-2019-data" id="toc-project-proposal-example-using-2019-data" class="nav-link" data-scroll-target="#project-proposal-example-using-2019-data">Project Proposal Example using 2019 Data</a></li>
  </ul></li>
  <li><a href="#data-task-6.-build-a-codebook-for-your-tibble" id="toc-data-task-6.-build-a-codebook-for-your-tibble" class="nav-link" data-scroll-target="#data-task-6.-build-a-codebook-for-your-tibble">Data Task 6. Build a Codebook for Your Tibble</a></li>
  <li><a href="#data-task-7.-print-and-summarize-your-tibble" id="toc-data-task-7.-print-and-summarize-your-tibble" class="nav-link" data-scroll-target="#data-task-7.-print-and-summarize-your-tibble">Data Task 7. Print and Summarize Your Tibble</a>
  <ul class="collapse">
  <li><a href="#submission-instructions" id="toc-submission-instructions" class="nav-link" data-scroll-target="#submission-instructions">Submission Instructions</a></li>
  <li><a href="#grading" id="toc-grading" class="nav-link" data-scroll-target="#grading">Grading</a></li>
  <li><a href="#grading-the-proposal-13-things-were-looking-for" id="toc-grading-the-proposal-13-things-were-looking-for" class="nav-link" data-scroll-target="#grading-the-proposal-13-things-were-looking-for">Grading the Proposal: 13 Things We’re Looking for</a></li>
  <li><a href="#grading-clarification" id="toc-grading-clarification" class="nav-link" data-scroll-target="#grading-clarification">Grading Clarification</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Project A Proposal</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>431 Staff </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">2023-08-17</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="please-ignore-these-instructions-until-the-first-class-meeting-while-we-continue-to-build-them." class="level1">
<h1>Please ignore these instructions until the first class meeting, while we continue to build them.</h1>
<p>You will submit a proposal document to Canvas (both in R Markdown and HTML) providing the answers to a series of questions related to your Data Development work.</p>
<ul>
<li>You will need to have completed all seven Tasks listed on <a href="./data.html">the Data page</a> in order to finish the proposal, but none of the work described on <a href="analysis.qmd">the Analysis page</a>.</li>
<li>You will also need to have come up with a meaningful title: do not use the terms “Project” or “Project A” or “431” in your title. You can use “CHR-2022” as the abbreviation in your title for “County Health Rankings, 2022.” Your title should be no longer than 80 characters.</li>
<li>All of the work needed in this proposal can be accomplished in September, and doing so will help you with Quiz 1.</li>
<li>To encourage an early start, proposals submitted to Canvas <strong>prior to Monday 2021-10-03 at noon</strong> will be reviewed quickly by Dr.&nbsp;Love and the TAs, and if a redo is required, you’ll hear back quickly enough that you should be able to accomplish it before the final proposal deadline, and thus still have a chance to earn full credit.</li>
<li>Dr.&nbsp;Love created a <a href="https://github.com/THOMASELOVE/431-projectA-sample-proposal">Sample Project A proposal</a> which should serve as your template for writing the proposal.</li>
</ul>
<section id="proposal-requirements" class="level3">
<h3 class="anchored" data-anchor-id="proposal-requirements">Proposal Requirements</h3>
<p>Your project proposal requires you to create the tibble you plan to use and then send (via Canvas) an R Markdown file and HTML result that contains these five elements:</p>
<ol type="1">
<li>A sentence or two (or small table) specifying the 6 states you chose, and the number of counties you are studying in total and within each state. The codebook you built in Task 6 of the Data work is appropriate here. In an additional sentence or two, provide some motivation for why you chose those states.</li>
<li>A list of the five variables (including their original raw names and your renamed versions) you are studying, with a clear indication of the cutpoints you chose to create the binary categories out of variable 4 and the multiple categories out of variable 5. The codebook you built in Task 6 of the Data work is appropriate here. For each variable, provide a sentence describing your motivation for why this variable was interesting to you.</li>
<li>A print-out of your cleaned up <code>chr_2022</code> tibble, to prove it is a tibble, with 11 columns (variables) and 300-800 rows (counties). No writing is required here - just the result of the code.</li>
<li>The <code>Hmisc::describe</code> result for your <code>chr_2022</code> tibble. As in element 3, code alone is sufficient for this element.</li>
<li>In a paragraph, describe the most challenging (or difficult) part of completing the work so far, and how you were able to overcome whatever it was that was difficult.</li>
</ol>
</section>
<section id="project-proposal-example-using-2019-data" class="level2">
<h2 class="anchored" data-anchor-id="project-proposal-example-using-2019-data">Project Proposal Example using 2019 Data</h2>
<p>Dr.&nbsp;Love has completed an R Markdown file and compiled it into an HTML result which you can view now, and which he <strong>strongly</strong> encourages you to use in developing your own proposal. The most important recommendation we have is to use this file as a starting point for your own data and proposal development.</p>
<p>The files may be found in <a href="https://github.com/THOMASELOVE/431-projectA-sample-proposal">our Github Repository</a></p>
<ul>
<li>Dr.&nbsp;Love’s <a href="https://github.com/THOMASELOVE/431-projectA-sample-proposal/blob/main/love_sample_projA_proposal.Rmd">R Markdown file</a> is a strong starting point for the development of your proposal.
<ul>
<li>Remember to click Raw if you want to download the R Markdown file from that link.</li>
<li>This file is also part of the <a href="https://github.com/THOMASELOVE/431-data">431-data repository</a> we’ve used for labs and other data and code, so you can also get it from there.</li>
</ul></li>
<li>The resulting HTML file can be viewed at <a href="https://rpubs.com/TELOVE/projA-sample-proposal-431-2022" class="uri">https://rpubs.com/TELOVE/projA-sample-proposal-431-2022</a>, which may be easier for you to read and will also show you what your final result should look like.</li>
</ul>
</section>
</section>
<section id="data-task-6.-build-a-codebook-for-your-tibble" class="level1">
<h1>Data Task 6. Build a Codebook for Your Tibble</h1>
<p>Next, you will provide a codebook as part of your Quarto file (and HTML output) that specifies the name of each variable in your tibble and its definition.</p>
<p>After you select your variables, use the <a href="https://www.countyhealthrankings.org/2023-measures">County Health Rankings website’s 2023 Measures list</a>, and in particular the linked information on that page for full descriptions, definitions and limitations of the variables you have selected.</p>
<p>A sample codebook is provided as part of the <a href="./examples.html">Examples folder</a> in these instructions.</p>
</section>
<section id="data-task-7.-print-and-summarize-your-tibble" class="level1">
<h1>Data Task 7. Print and Summarize Your Tibble</h1>
<ol type="1">
<li><p><strong>Print the Tibble</strong>: You will then prove that your tibble is in fact a tibble and not just a data frame by listing it, so that we can see that the first 10 rows are printed, and the columns are appropriately labeled. The command you want is just <strong><code>chr_2023</code></strong>.</p></li>
<li><p><strong>Numerical Summaries</strong>: You will then demonstrate main numerical summaries from the tibble, in particular:</p>
<ul>
<li>You will display the results of <code>Hmisc::describe</code> run on the whole tibble.</li>
<li>You will display <code>tabyl()</code> results to show the association of your categorical factor (derived from variable 4) with your six <code>state</code>s.</li>
</ul></li>
</ol>
<section id="submission-instructions" class="level3">
<h3 class="anchored" data-anchor-id="submission-instructions">Submission Instructions</h3>
<ul>
<li>Your proposal (R Markdown and HTML file) should be submitted to Canvas.</li>
<li>Be sure that your proposal includes your name (names if you are working with a partner) as the author in R Markdown.</li>
<li>If you are working with a partner, exactly one of you should submit the materials to Canvas, and the other partner should submit a text document (Word or PDF is fine) to Canvas that reads: “My name is [YOUR NAME]. I am working on Project A with [INSERT FULL NAME OF YOUR PARTNER], and they will submit the materials for the proposal.”</li>
</ul>
</section>
<section id="grading" class="level3">
<h3 class="anchored" data-anchor-id="grading">Grading</h3>
<ul>
<li>After the deadline, the TAs and Dr.&nbsp;Love will review your submissions quickly to ensure that your proposed plan meets the requirements for this project, and either approve the plan, or request changes.</li>
<li>If changes are requested, you’ll have a very short time window (at most 24 hours) to make those changes and resubmit until your plan is, eventually, approved.</li>
<li>Successful completion of the proposal by the deadline will receive full credit (25 points.)
<ul>
<li>Proposals that require revisions after the deadline will lose 10% of the possible credit for each revision.</li>
</ul></li>
<li><strong>Please</strong> meet the deadline, and don’t wait until the last minute to do the work.
<ul>
<li>To encourage an early start, proposals submitted <strong>prior to Monday 2021-10-03 at noon</strong> will be reviewed quickly by Dr.&nbsp;Love and the TAs, and if a redo is required, you’ll hear back quickly enough that you should be able to accomplish it before the final proposal deadline, and thus still have a chance to earn full credit.</li>
</ul></li>
</ul>
</section>
<section id="grading-the-proposal-13-things-were-looking-for" class="level3">
<h3 class="anchored" data-anchor-id="grading-the-proposal-13-things-were-looking-for">Grading the Proposal: 13 Things We’re Looking for</h3>
<ol type="1">
<li><p>The complete proposal is submitted on time.</p>
<ul>
<li>On time for the initial submission means R Markdown and HTML on Canvas by the deadline on the <a href="https://thomaselove.github.io/431-2022/calendar.html">Course Calendar</a>. If it’s late, it will lose credit for that (2.5 points out of 25), and be reviewed last.</li>
<li>If you worked with a partner, both names are in the author section of the R Markdown and HTML submitted by one of you, while the other submitted a note to Canvas meeting the specifications described in the Project A instructions.</li>
<li>When we run the R Markdown file, does it produce the HTML file without errors? (Note: warnings or messages are OK at this stage, but it has to work.)</li>
</ul></li>
<li><p>The YAML in the R Markdown file produces what we want in the HTML</p>
<ul>
<li>There’s a real title that does not include Project A or Proposal and that is correctly spelled, and fits in the available space in the HTML.</li>
<li>The author name(s) appears in the HTML correctly.</li>
<li>The date is properly formatted in the HTML (achieve this most easily by using the <strong>r Sys.Date()</strong> command within the date section of the YAML as Dr.&nbsp;Love does in his work.)</li>
<li>There is a table of contents (doesn’t have to float, although we prefer this) which appears in the HTML and has section names that are appropriately and automatically numbered.
<ul>
<li>To achieve this, use <strong>number_sections: TRUE</strong> in the YAML.</li>
</ul></li>
<li>The easiest approach to accomplish all of this is to use the readthedown template as Dr.&nbsp;Love did in the Example.</li>
</ul></li>
<li><p>The project ingests the data properly.</p>
<ul>
<li>Eliminating the correct row (in any way that works), and</li>
<li>Using <code>read_csv()</code> to read in the data, thus creating a tibble</li>
</ul></li>
<li><p>All section headings are correctly numbered and formatted, and describe effectively the contents of the material contained in that section.</p>
<ul>
<li>Reusing Dr.&nbsp;Love’s headings from the example proposal is a good option, but it’s OK if you want to take a different approach, so long as we can find everything.</li>
<li>Again, you need to be using <code>toc: TRUE</code> and <code>number_sections: TRUE</code> in your YAML if you are building an html_document and not using the readthedown template that Dr.&nbsp;Love used in his example.</li>
<li>If you’re using the readthedown template, then you need number_sections: TRUE, but <strong>not</strong> toc:TRUE since that will be done automatically by the readthedown template.</li>
</ul></li>
<li><p>You have an attractively formatted, readable codebook that looks nice in your HTML.</p>
<ul>
<li>The example proposal provides an example, but you can come up with something better if you like. It must be run within R Markdown though - you cannot submit an image instead of getting the codebook through code.</li>
</ul></li>
<li><p>Which states were chosen is clear, and there is a sentence about why they were chosen.</p>
<ul>
<li>There must be 6 states, including Ohio</li>
<li>This must lead to 300-800 counties, and this number must be clear from the document (both the number of rows in the final tibble and in writing.)</li>
<li>You should not drop any counties from any of the states you selected in the development of your tibble.</li>
</ul></li>
<li><p>Your selected five variables are clear, and there is information about what the variables mean and why you chose them, and the role they will play in your eventual analyses</p>
<ul>
<li>You clearly specify which of your 5 variables is the outcome</li>
<li>You clearly specify which variable will be treated as a binary categorical variable, and which will be treated as a multi-categorical variable, specifying how many categories will be used, and why you made the choices you did about splitting those variables into categories.</li>
<li>For each of your quantitative variables (outcome and the two predictors) you specify their units in appropriate language drawn from the measure specifications at County Health Rankings.</li>
<li>You specify all variables using the name you will use in your final tibble, the <code>vXXX</code> code from the original data, and show that you have some understanding of what the variable means, how it was collected and why it is important in your sentences surrounding your codebook.</li>
<li>You have eleven variables in total in your tibble.</li>
</ul></li>
<li><p>The results of your missingness check and your # of distinct values check are clear, and meet the specifications described in the instructions.</p>
<ul>
<li>You’ve written a sentence (at least) in response to the results of each check that makes sense.</li>
</ul></li>
<li><p>You’ve printed your final tibble by typing in its name, and it appears as a tibble.</p></li>
<li><p><code>Hmisc::describe</code> results for your final tibble including 11 variables, with minimum and maximum values that make sense, and that show the correct number of counties and states.</p></li>
<li><p>Your response to question 5 is a paragraph (or more) written in English, with attention paid to grammar, syntax and spelling.</p>
<ul>
<li>It is clear to us what your biggest issue was, and how you tried to address it.</li>
</ul></li>
<li><p>There is a Session Information section at the end of the document.</p>
<ul>
<li>This should indicate that R version 4.2.1. or later is used.</li>
</ul></li>
<li><p>You don’t have more than 3 spelling, typographical or grammatical errors in the document as a whole that we catch.</p></li>
</ol>
</section>
<section id="grading-clarification" class="level2">
<h2 class="anchored" data-anchor-id="grading-clarification">Grading Clarification</h2>
<p>Dr.&nbsp;Love and the TAs will review your proposal and either ACCEPT it or ask for a REDO.</p>
<ul>
<li>ACCEPT means you’re done, and should move on the rest of Project A, perhaps while making some small changes that we request of you in your submission on Canvas.</li>
<li>REDO means you’ll need to fix the problems we’ve identified (plus make sure you’ve done all of the things on this checklist) and resubmit by the deadline we give you.
<ul>
<li>If your proposal is accepted on the initial submission and was on time, you’ll receive 25 points.</li>
<li>If your proposal is accepted on the first REDO (submission 2), you’ll receive 22.5 points.</li>
<li>If your proposal is accepted on the second REDO (submission 3), you’ll receive 20 points.</li>
<li>We hope we won’t have to go further than 3 attempts for anyone.</li>
</ul></li>
</ul>
<p>If you don’t have some feature that we “prefer” we may mention this and ask you to fix it in the final version of the complete Project A, but that alone wouldn’t necessitate a REDO.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
          // default icon
          link.classList.add("external");
      }
    }
});
</script>
</div> <!-- /content -->



</body></html>